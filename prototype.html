<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Mapathon - Mapping upcoming and past hackathons by month</title>
    <!-- Google Maps API -->
  
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
      <link href='http://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
    <link href="./css/style.css" rel="stylesheet">    
    <script src="./js/main.js"></script>
    


  </head>
  <body>
    
    <div id="map_canvas"></div>
    <div id="arrow"></div>
    <div id="container">  
        <select id="yearSelect" onchange="hideIf2014IsChosen()">
          <option value="" disabled selected>Year</option>
          <option value='2014'> 2014 </option> 
          <option value='2015'> 2015 </option>
        </select>
        <button id="btn" onclick="getMarkerFromChosenTime()" class="action-button shadow animate blue">Lets Go!</button>
        <select id="monthSelect" onchange="clearAllMarkersAndInfo()">
          <option value="" disabled selected>Month</option>
          <option value="01" class="hideIf2014">January</option>
            <option value="02" class="hideIf2014">February</option>
            <option value="03" class="hideIf2014">March</option>
            <option value="04" class="hideIf2014">April</option>
            <option value="05" class="hideIf2014">May</option>
            <option value="06" class="hideIf2014">June</option>
            <option value="07" class="hideIf2014">July</option>
            <option value="08">August</option>
            <option value="09">September</option>
            <option value="10">October</option>
            <option value="11">November</option>
            <option value="12" class="hideIf2014">December</option>
        </select>
    </div>
    <script>
    /**
     * [Checks to see if 2014 is chosen, if it is then take out all the monthes before August as its not available]
     */
      function hideIf2014IsChosen() {
        var checkIf2014IsChosen = getYear();
        var arrayOfMonthesBeforeAugust2014 = document.getElementsByClassName("hideIf2014");
        if (checkIf2014IsChosen === '2014') {
          // just to not annoy the user with way too many alerts
          if (numOfAlertsAbout2014 === 0) {
          alert("Hackalist API doesn't have hackathons listed before August 2014, so they've been removed");
          }
          // removes those options from selection
          for (var i = 0; i < arrayOfMonthesBeforeAugust2014.length; i++) {
            arrayOfMonthesBeforeAugust2014[i].style.display = "none";
          }
          numOfAlertsAbout2014++;
        } else {
          // ensures for 2015 that they can choose monthes before August
          for (var i = 0; i < arrayOfMonthesBeforeAugust2014.length; i++) {
            arrayOfMonthesBeforeAugust2014[i].style.display = "inline-block";
          }
        } 
      }
    </script>
    <p> Send any bugs you notice to github.com/mding5692/mapathon as an issue please </p>
 </body>
</html>
